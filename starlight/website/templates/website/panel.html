<!DOCTYPE html>

{% extends 'website/base.html' %}
{% load staticfiles %}
{% block content %}

<h1 id="panel-heading">The Panel</h1>

<div class="container">
  <div class="tab">
    <button class="tablinks" onclick="openTab('Upload')">Upload</button>
    <button class="tablinks" onclick="openTab('Edit')">Edit</button>
    <button class="tablinks" onclick="openTab('Categories')">Categories</button>
    <button class="tablinks" onclick="openTab('Remove')">Remove</button>
  </div>

<div id="Upload" class="tabcontent" style="display:block">
  <h2>Upload Photos!</h2>

  <div class="dropdown">

    <select id="thedropdown">

      <option value="" selected disabled hidden>Select a Category</option>

      {% for c in all_categories %}
        <option value="{{ c.cat_name }}">{{ c.cat_name }}</option>
      {% endfor %}
    </select>

  </div>

  <!-- TODO -->
  <form action="/file-upload" class="dropzone" id="my-awesome-dropzone">
    
  </form>
      
</div>

<div id="Edit" class="tabcontent" style="display:none">
  <h2>Edit Photos!</h2>
  
  <div class="dropdown">
    <select id="thedropdown">
        <option value="" selected disabled hidden>Select a Category</option>

      {% for c in all_categories %}
        <option value="{{ c.cat_name }}">{{ c.cat_name }}</option>
      {% endfor %}
    </select>

  </div>
</div>

<div id="Categories" class="tabcontent" style="display:none">

  <h2>Select a Category</h2>

  <div class="dropdown">
    <select id="thedropdown">

      <option value="" selected disabled hidden>Select a Category</option>

      {% for c in all_categories %}
        <option value="{{ c.cat_name }}">{{ c.cat_name }}</option>
      {% endfor %}
    </select>
  </div>

  <button type="button">Add a Category</button>

  <script>
    function addCategory(){

      // add category here
    }
  </script>

  <!--<img src="{{ cat_photo.url }}" style="width: 30%;width:200px;height:200px;border: black 2px outset;"></img>-->
</div>

<div id="Remove" class="tabcontent" style="display:none">
  <h2>Remove</h2>

  <div class="dropdown">
    <select id="thedropdown">

      <option value="" selected disabled hidden>Select a Category</option>

      {% for c in all_categories %}
        <option value="{{ c.cat_name }}">{{ c.cat_name }}</option>
      {% endfor %}
    </select>
  </div>

  <button type="button" onclick="confirmRemoveCat()">Remove Category</button> <!-- This should create a warning -->
</div>

<script>

  function confirmRemoveCat(){
    var c = confirm("Deleting this category will permanently remove the category and all of its data!");

    if(c==true){
      // Delete category
      alert("deleted");
    }
    
  }


	function openTab(category) {
    var i;
    var x = document.getElementsByClassName("tabcontent");
    for (i = 0; i < x.length; i++) {
        x[i].style.display = "none"; 
    }
    document.getElementById(category).style.display = "block"; 
}
</script>

{% endblock %}